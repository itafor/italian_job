<div class="container">
    <div class="details-header">
      <div class="row">
        <div class="col-lg-12 emp-form">
          <div class="card">
            <div class="modal-header">
              <h4 class="modal-title" id="createinventorycategoryheader">New Inventory Category</h4>
            </div>
            <div class="card-body col-5" style="margin: auto; width: 50%">
              <app-alert></app-alert>
              <form #createInventoryCategory=ngForm [formGroup]="form" (ngSubmit)="onSubmit()">
                  <div class="form-group row">
                      <div class="col-9">
                          <label for="itemname" id="name-label" class="col-3 col-form-label">Name<span
                              style="color:red">*</span></label>
                        <input (keyup)="initname($event)" type="text" id="name-input" class="form-control" [formControl]="form.controls['name']"
                          [ngClass]="{'is-invalid': form.controls['name'].hasError('required') && form.controls['name'].touched}">
                        <div class="invalid-feedback"
                          *ngIf="form.controls['name'].hasError('required') && form.controls['name'].touched">
                          Please specify a name.</div>
                          <small class="show-error" *ngIf="qtymessage">
                          At least 3 characters
                          </small>
                      </div>
                    </div>
                <div class="form-group row">
                  <div class="col-9">
                      <label for="categoryName" id="description-label" class="col-3 col-form-label">Description</label>
                    <textarea type="text" id="description-input" class="form-control"
                      [formControl]="form.controls['description']"
                      [ngClass]="{'is-invalid': form.controls['description'].hasError('required') && form.controls['description'].touched}" >
                    </textarea>
                    <div class="invalid-feedback"
                      *ngIf="form.controls['description'].hasError('required') && form.controls['description'].touched">
                      Description is required.</div>
                      <small class="show-error" *ngIf="itemerrmessage">
                          At least 3 characters
                        </small>
                  </div>
                </div>
                <div class="form-group row">
                  <div class="col-7">
                      <label for="categoryName" id="parentcategory-label" class="col-3 col-form-label">Parent Category</label>
                      <div class="form-group">
                          <select style="margin-top: 10px;" class="custom-select mr-sm-6" id="parentcategory-input" [formControl]="form.controls['category']" 
                            [ngClass]="{'is-invalid': form.controls['category'].hasError('required') && form.controls['category'].touched}">
                            <option selected value="">Choose Inventory Category</option>
                            <option *ngFor="let category of inventoryCategory" value="{{category.secret.name}}">{{category.secret.name? category.secret.name : 'None'}}</option>
                          </select>
                          <div class="invalid-feedback" *ngIf="form.controls['category'].hasError('required') && form.controls['category'].touched">Please select a category</div>
                        </div>
                      <small class="show-error" *ngIf="errmessage">
                        At least 3 Characters
                      </small>
                  </div>
                </div>
                
            <div class="d-flex justify-content-center mt-4 mb-4">
              <button class="btn btn-primary" id="CategoryInventoryCategoryBtn" type="submit" [disabled]="!form.valid || disableBtn"><i *ngIf="loading"
                  class="fa fa-spinner fa-spin"></i> Create Category</button>
            </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
  </div>